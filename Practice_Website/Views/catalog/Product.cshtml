@model Practice_Website.Models.Products_With_Categories
@{
    ViewData["Title"] = "Product";
}
@{
    string images_path_local = "https://localhost:44365/uploads/";
}
<div class="cart" data-toggle="inactive">
    <div class="label">
        <i class="ion-bag"></i> 7
    </div>

    <div class="overlay"></div>

    <div class="window">
        <div class="title">
            <button type="button" class="close"><i class="ion-android-close"></i></button>
            <h1 class="h3 info">Shopping cart</h1>
        </div>

        <div class="content">

            <div class="media">
                <div class="media-left">
                    <a href="#">
                        <img class="media-object" src="/assets/img/products/chrome-book-11.jpg" alt="HP Chromebook 11" />
                    </a>
                </div>
                <div class="media-body">
                    <h2 class="h4 media-heading">@Model.Product.ProductName</h2>
                    @{ var product_variants = @Model.product_variants.Where(e => e.ProductID == @Model.Product.ProductID).ToList();
                        var variant_id_list = @Model.product_variants.Where(e => e.ProductID == @Model.Product.ProductID).Select(e => e.VariantID).ToList();
                        var variants = @Model.variants.Where(e => variant_id_list.Contains(e.VariantID)).ToList();
                    }


                    @{var subcat = @Model.subCategory_Subs.Where(e => e.SubSubCategoryID == @Model.Product.SubSubCategoryID).Select(e => e.SubCategoryID).FirstOrDefault();}
                    <label>@Model.subCategories.Where(e => e.SubCategoryID == @subcat).Select(e => e.SubCategoryName)</label>
                    <p class="price">$199.99</p>
                </div>
                <div class="controls">
                    <div class="input-group">
                        <span class="input-group-btn">
                            <button class="btn btn-default btn-sm" type="button" data-action="minus"><i class="ion-minus-round"></i></button>
                        </span>
                        <input type="text" class="form-control input-sm" placeholder="Qty" value="1" readonly="">
                        <span class="input-group-btn">
                            <button class="btn btn-default btn-sm" type="button" data-action="plus"><i class="ion-plus-round"></i></button>
                        </span>
                    </div><!-- /input-group -->

                    <a href="#remove"> <i class="ion-trash-b"></i> Remove </a>
                </div>
            </div>

            <div class="media">
                <div class="media-left">
                    <a href="#">
                        <img class="media-object" src="/assets/img/products/chrome-book-14.jpg" alt="HP Chromebook 11" />
                    </a>
                </div>
                <div class="media-body">
                    <h2 class="h4 media-heading">HP Chromebook 14</h2>
                    <label>Laptops</label>
                    <p class="price">$209.99</p>
                </div>
                <div class="controls">
                    <div class="input-group">
                        <span class="input-group-btn">
                            <button class="btn btn-default btn-sm" type="button" data-action="minus"><i class="ion-minus-round"></i></button>
                        </span>
                        <input type="text" class="form-control input-sm" placeholder="Qty" value="1" readonly="">
                        <span class="input-group-btn">
                            <button class="btn btn-default btn-sm" type="button" data-action="plus"><i class="ion-plus-round"></i></button>
                        </span>
                    </div><!-- /input-group -->

                    <a href="#remove"> <i class="ion-trash-b"></i> Remove </a>
                </div>
            </div>

            <div class="media">
                <div class="media-left">
                    <a href="#">
                        <img class="media-object" src="/assets/img/products/ipad-air.jpg" alt="iPad Air" />
                    </a>
                </div>
                <div class="media-body">
                    <h2 class="h4 media-heading">iPad Air</h2>
                    <label>Tablets</label>
                    <p class="price">$449.99</p>
                </div>
                <div class="controls">
                    <div class="input-group">
                        <span class="input-group-btn">
                            <button class="btn btn-default btn-sm" type="button" data-action="minus"><i class="ion-minus-round"></i></button>
                        </span>
                        <input type="text" class="form-control input-sm" placeholder="Qty" value="1" readonly="">
                        <span class="input-group-btn">
                            <button class="btn btn-default btn-sm" type="button" data-action="plus"><i class="ion-plus-round"></i></button>
                        </span>
                    </div><!-- /input-group -->

                    <a href="#remove"> <i class="ion-trash-b"></i> Remove </a>
                </div>
            </div>

            <div class="media">
                <div class="media-left">
                    <a href="#">
                        <img class="media-object" src="/assets/img/products/mi-pad-2.jpg" alt="HP Chromebook 11" />
                    </a>
                </div>
                <div class="media-body">
                    <h2 class="h4 media-heading">Mi Pad 2</h2>
                    <label>Tablets</label>
                    <p class="price">$199.99</p>
                </div>
                <div class="controls">
                    <div class="input-group">
                        <span class="input-group-btn">
                            <button class="btn btn-default btn-sm" type="button" data-action="minus"><i class="ion-minus-round"></i></button>
                        </span>
                        <input type="text" class="form-control input-sm" placeholder="Qty" value="1" readonly="">
                        <span class="input-group-btn">
                            <button class="btn btn-default btn-sm" type="button" data-action="plus"><i class="ion-plus-round"></i></button>
                        </span>
                    </div><!-- /input-group -->

                    <a href="#remove"> <i class="ion-trash-b"></i> Remove </a>
                </div>
            </div>

            <div class="media">
                <div class="media-left">
                    <a href="#">
                        <img class="media-object" src="/assets/img/products/lenovo-yoga.jpg" alt="Lenovo Yoga" />
                    </a>
                </div>
                <div class="media-body">
                    <h2 class="h4 media-heading">Lenovo Yoga</h2>
                    <label>Hybrid</label>
                    <p class="price">$199.99</p>
                </div>
                <div class="controls">
                    <div class="input-group">
                        <span class="input-group-btn">
                            <button class="btn btn-default btn-sm" type="button" data-action="minus"><i class="ion-minus-round"></i></button>
                        </span>
                        <input type="text" class="form-control input-sm" placeholder="Qty" value="1" readonly="">
                        <span class="input-group-btn">
                            <button class="btn btn-default btn-sm" type="button" data-action="plus"><i class="ion-plus-round"></i></button>
                        </span>
                    </div><!-- /input-group -->

                    <a href="#remove"> <i class="ion-trash-b"></i> Remove </a>
                </div>
            </div>

            <div class="media">
                <div class="media-left">
                    <a href="#">
                        <img class="media-object" src="/assets/img/products/surface-pro.jpg" alt="HP Chromebook 11" />
                    </a>
                </div>
                <div class="media-body">
                    <h2 class="h4 media-heading">Surface Pro</h2>
                    <label>Hybrid</label>
                    <p class="price">$199.99</p>
                </div>
                <div class="controls">
                    <div class="input-group">
                        <span class="input-group-btn">
                            <button class="btn btn-default btn-sm" type="button" data-action="minus"><i class="ion-minus-round"></i></button>
                        </span>
                        <input type="text" class="form-control input-sm" placeholder="Qty" value="1" readonly="">
                        <span class="input-group-btn">
                            <button class="btn btn-default btn-sm" type="button" data-action="plus"><i class="ion-plus-round"></i></button>
                        </span>
                    </div><!-- /input-group -->

                    <a href="#remove"> <i class="ion-trash-b"></i> Remove </a>
                </div>
            </div>

            <div class="media">
                <div class="media-left">
                    <a href="#">
                        <img class="media-object" src="/assets/img/products/asus-transformer.jpg" alt="HP Chromebook 11" />
                    </a>
                </div>
                <div class="media-body">
                    <h2 class="h4 media-heading">ASUS Transformer</h2>
                    <label>Hybrid</label>
                    <p class="price">$199.99</p>
                </div>
                <div class="controls">
                    <div class="input-group">
                        <span class="input-group-btn">
                            <button class="btn btn-default btn-sm" type="button" data-action="minus"><i class="ion-minus-round"></i></button>
                        </span>
                        <input type="text" class="form-control input-sm" placeholder="Qty" value="1" readonly="">
                        <span class="input-group-btn">
                            <button class="btn btn-default btn-sm" type="button" data-action="plus"><i class="ion-plus-round"></i></button>
                        </span>
                    </div><!-- /input-group -->

                    <a href="#remove"> <i class="ion-trash-b"></i> Remove </a>
                </div>
            </div>

        </div>

        <div class="checkout container-fluid">
            <div class="row">
                <div class="col-xs-3 col-sm-2">
                    <div>
                        <p>Subtotal:</p>
                        <h3 class="h4">Total:</h3>
                    </div>
                </div>
                <div class="col-xs-3 col-sm-4">
                    <div class="total">
                        <p>$1 200</p>
                        <h3 class="h4">$1 200</h3>
                    </div>
                </div>

                <div class="col-xs-6 col-sm-6">
                    <a class="btn btn-primary" href="/checkout/"> Checkout order </a>
                </div>
            </div>
        </div>
    </div>
</div>


<hr class="offset-lg">

<div class="product">
    <div class="container">
        <div class="row">
            <div class="col-sm-7 col-md-7">
                <div class="carousel product" data-count="5" data-current="1">
                    <!-- <button class="btn btn-control"></button> -->

                    <div class="items">
                        <div class="item active" data-marker="1">
                            <img src="/assets/img/product/1.jpg" alt="ChromeBook 11" />
                        </div>
                        <div class="item" data-marker="2">
                            <img src="/assets/img/product/2.jpg" alt="ChromeBook 11" />
                        </div>
                        <div class="item" data-marker="3">
                            <img src="/assets/img/product/3.jpg" alt="ChromeBook 11" />
                        </div>
                        <div class="item" data-marker="4">
                            <img src="/assets/img/product/4.jpg" alt="ChromeBook 11" />
                        </div>
                        <div class="item" data-marker="5">
                            <img src="/assets/img/product/5.jpg" alt="ChromeBook 11" />
                        </div>
                        <div class="item" data-marker="6">
                            <div class="tiles">
                                <a href="#video" data-gallery="#video" data-source="youtube" data-id="hED0N4CFoqs" data-title="An upscale new Chromebook from HP" data-description="The new HP Chromebook 13 runs a Core M CPU inside a slim aluminum body.">
                                    <img src="/assets/img/product/video.jpg" alt="ChromeBook 11">

                                    <div class="overlay"></div>
                                    <div class="content">
                                        <div class="content-outside">
                                            <div class="content-inside">
                                                <i class="ion-ios-play"></i>
                                                <h1>Watch video review</h1>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>

                    <ul class="markers">
                        @{ 
                            var Product_id = Model.Product.ProductID;
                            var Product_images = Model.product_Images.Where(e => e.ProductID == Product_id).ToList();

                        }
                        <li data-marker="1" class="active"><img src="/assets/img/product/1.jpg" alt="Background" /></li>
                        <li data-marker="2"><img src="/assets/img/product/2.jpg" alt="Background" /></li>
                        <li data-marker="3"><img src="/assets/img/product/3.jpg" alt="Background" /></li>
                        <li data-marker="4"><img src="/assets/img/product/4.jpg" alt="Background" /></li>
                        <li data-marker="5"><img src="/assets/img/product/5.jpg" alt="Background" /></li>
                        <li data-marker="6"><img src="/assets/img/product/video.jpg" alt="Background" /></li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-5 col-md-5">
                <img src="/assets/img/brands/hp.png" alt="HP" class="brand hidden-xs" />

                <h1>@Model.Product.ProductName</h1>
                @Html.DropDownList(Model.Product.ProductID.ToString(), new SelectList(variants, "VariantID", "VariantName", @Model.Variant), new { @class = "form-control mb-4", @id = "drop", @style = "margin-bottom:20px" })

                @*<select class="form-control">
                        @{
                            foreach (var item in variants)
                            {

                                if (item.VariantID == Model.Variant)
                                {
                                    Selected = "selected";
                                }
                                <option value="@item.VariantID" @Selected>@item.VariantName</option>
                                Selected = "";
                            }
                        }
                    </select>*@
                <p> &middot; @Model.specifications.Where(e => e.ProductID == Model.Product.ProductID && e.VariantID == Model.Variant && e.top == 1).Select(e => e.SpecValue).FirstOrDefault()</p>
                <p> &middot; @Model.specifications.Where(e => e.ProductID == Model.Product.ProductID && e.VariantID == Model.Variant && e.top == 2).Select(e => e.SpecValue).FirstOrDefault()</p>
                <p> &middot; @Model.specifications.Where(e => e.ProductID == Model.Product.ProductID && e.VariantID == Model.Variant && e.top == 3).Select(e => e.SpecValue).FirstOrDefault()</p>

                <p class="price">@Model.product_variants.Where(e => e.ProductID == Model.Product.ProductID && e.VariantID == Model.Variant).Select(e => e.Var_Price).FirstOrDefault()</p>
                @{ var price_discount = Model.product_variants.Where(e => e.ProductID == Model.Product.ProductID && e.VariantID == Model.Variant).Select(e => e.Var_Price).FirstOrDefault() + Model.product_variants.Where(e => e.ProductID == Model.Product.ProductID && e.VariantID == Model.Variant).Select(e => e.Var_Discount).FirstOrDefault();
                    var stock = Model.product_variants.Where(e => e.ProductID == Model.Product.ProductID && e.VariantID == Model.Variant).Select(e => e.Var_Stock).FirstOrDefault();}
                <p class="price through">@price_discount</p>
                <br><br>
                @* Add Quntity Button *@

                <div class="row">
                    <div class="col-sm-3" style="border:none"><label class="form-control" style="border:none">Quantity</label></div>
                    <div class="col-sm-9"><input type="text" placeholder="Quantity will not More than @stock units " name="Qunatity" class="form-control" /></div>
                </div>

                @* Add Quantity Button end *@
                <button class="btn btn-primary btn-rounded" style="margin-top:10px"> <i class="ion-bag"></i> Add to cart</button>
            </div>
        </div>
        <br><br><br>


        <div class="row">
            <div class="col-sm-7">
                <h1>@Model.Product.ProductName</h1>
                <br>

                <p>
                    @Model.Product.Description
                </p>
                <br>

                <h2>Product specifications</h2>
                <br>
                @{ foreach (var item in Model.specifications.Where(e => e.ProductID == Model.Product.ProductID && e.VariantID == Model.Variant).ToList())

                    {
                        <div class="row specification">
                            <div class="col-sm-6"> <label>@item.SpecName</label> </div>
                            <div class="col-sm-6"> <p>@item.SpecValue</p> </div>
                        </div>
                    }

                }


                @*<div class="row specification">
                        <div class="col-sm-6"> <label>Processor</label> </div>
                        <div class="col-sm-6"> <p>Intel® Celeron® N2840 with Intel® HD Graphics (2.16 GHz, up to 2.58 GHz, 1 MB cache, 2 cores)</p> </div>
                    </div>

                    <div class="row specification">
                        <div class="col-sm-6"> <label>Processor technology</label> </div>
                        <div class="col-sm-6"> <p>Intel Turbo Boost Technology</p> </div>
                    </div>

                    <div class="row specification">
                        <div class="col-sm-6"> <label>Graphics</label> </div>
                        <div class="col-sm-6"> <p>Intel HD Graphics</p> </div>
                    </div>

                    <div class="row specification">
                        <div class="col-sm-6"> <label>Memory</label> </div>
                        <div class="col-sm-6"> <p>2 GB DDR3L SDRAM (onboard)</p> </div>
                    </div>

                    <div class="row specification">
                        <div class="col-sm-6"> <label>Hard drive</label> </div>
                        <div class="col-sm-6"> <p>16 GB eMMC</p> </div>
                    </div>

                    <div class="row specification">
                        <div class="col-sm-6"> <label>Wireless</label> </div>
                        <div class="col-sm-6"> <p>802.11ac (2x2) and Bluetooth® 4.0 combo</p> </div>
                    </div>

                    <div class="row specification">
                        <div class="col-sm-6"> <label>Power supply</label> </div>
                        <div class="col-sm-6"> <p>45 W AC power adapter</p> </div>
                    </div>

                    <div class="row specification">
                        <div class="col-sm-6"> <label>Battery</label> </div>
                        <div class="col-sm-6"> <p>3-cell, 36 Wh Li-ion</p> </div>
                    </div>*@
            </div>
            <div class="col-sm-5">
                <div class="comments">
                    <h2 class="h3">What do you think? (#3)</h2>
                    <br>


                    <div class="wrapper">
                        <div class="content">
                            <h3>Anne Hathaway</h3>
                            <label>2 years ago</label>
                            <p>
                                Apple Music brings iTunes music streaming to the UK. But is it worth paying for? In our Apple Music review, we examine the service's features, UK pricing, audio quality and music library
                            </p>


                            <h3>Chris Hemsworth</h3>
                            <label>Today</label>
                            <p>
                                Samsung's Galaxy S7 smartphone is getting serious hype. Here's what it does better than Apple's iPhone 6s.
                            </p>


                            <h3>Anne Hathaway</h3>
                            <label>2 years ago</label>
                            <p>
                                Apple Music brings iTunes music streaming to the UK. But is it worth paying for? In our Apple Music review, we examine the service's features, UK pricing, audio quality and music library
                            </p>
                        </div>
                    </div>
                    <br>

                    <button class="btn btn-default btn-sm" data-toggle="modal" data-target="#Modal-Comment"> <i class="ion-chatbox-working"></i> Add comment </button>
                </div>
                <br><br>

                <div class="talk">
                    <h2 class="h3">Do you have any questions?</h2>
                    <p>Online chat with our manager</p>

                    <button class="btn btn-default btn-sm"> <i class="ion-android-contact"></i> Lat's talk </button>
                </div>
            </div>
        </div>
    </div>
</div>
<br><br>

<section class="products">
    <div class="container">
        <h1 class="h3">Recommendation for you</h1>
        <div class="row">
            @{ var product_same_subcat = Model.subCategory_Subs.Where(e => e.SubCategoryID == subcat).Select(e => e.SubSubCategoryID).ToList();
                var subsub_cat_product = Model.products.Where(e => product_same_subcat.Contains(e.SubSubCategoryID)).ToList();
                foreach (var item in subsub_cat_product)
                {
                    <div class="col-sm-6 col-md-3 product product_card_overflow" style="display:none">
                        <a href="#favorites" class="favorites" data-favorite="inactive"><i class="ion-ios-heart-outline"></i></a>
                        <a href="./"><img src="/assets/img/products/chrome-book-11.jpg" alt="HP Chromebook 11" /></a>

                        <div class="content">
                            <h1 class="h4">@item.ProductName</h1>
                            <p class="price">@Model.product_variants.Where(e => e.ProductID == item.ProductID).Select(e => e.Var_Price).FirstOrDefault()</p>
                            <label>@Model.subCategories.Where(e => e.SubCategoryID == subcat).Select(e => e.SubCategoryName).FirstOrDefault()</label>

                            @Html.ActionLink("Detail", "Product", "catalog", new { id = @item.ProductID, variant = 0 }, new { @class = "btn btn-link" })
                            <button class="btn btn-primary btn-rounded btn-sm"> <i class="ion-bag"></i> Add to cart</button>
                        </div>
                    </div>
                }
            }




            @*<div class="col-sm-6 col-md-3 product">
                    <a href="#favorites" class="favorites" data-favorite="inactive"><i class="ion-ios-heart-outline"></i></a>
                    <a href="./"><img src="/assets/img/products/chrome-book-14.jpg" alt="HP Chromebook 14" /></a>

                    <div class="content">
                        <h1 class="h4">HP Chromebook 14</h1>
                        <p class="sale">$209.99</p>
                        <p class="price through">$249.99</p>
                        <label>Laptops</label>

                        <a href="/catalog/product.html" class="btn btn-link"> Details</a>
                        <button class="btn btn-primary btn-rounded btn-sm"> <i class="ion-bag"></i> Add to cart</button>
                    </div>
                </div>

                <div class="col-sm-6 col-md-3 product">
                    <a href="#favorites" class="favorites" data-favorite="inactive"><i class="ion-ios-heart-outline"></i></a>
                    <a href="./"><img src="/assets/img/products/chrome-book-asus.jpg" alt="HP Chromebook 14" /></a>

                    <div class="content">
                        <h1 class="h4">Asus Chromebook</h1>
                        <p class="price">$299.99</p>
                        <label>Laptops</label>

                        <a href="/catalog/product.html" class="btn btn-link"> Details</a>
                        <button class="btn btn-primary btn-rounded btn-sm"> <i class="ion-bag"></i> Add to cart</button>
                    </div>
                </div>


                <div class="col-sm-6 col-md-3 product">
                    <a href="#favorites" class="favorites" data-favorite="inactive"><i class="ion-ios-heart-outline"></i></a>
                    <a href="./"><img src="/assets/img/products/ipad-air.jpg" alt="iPad Air" /></a>

                    <div class="content">
                        <h1 class="h4">iPad Air</h1>
                        <p class="price">$449.99</p>
                        <label>Tablets</label>

                        <a href="/catalog/product.html" class="btn btn-link"> Details</a>
                        <button class="btn btn-primary btn-rounded btn-sm"> <i class="ion-bag"></i> Add to cart</button>
                    </div>
                </div>*@
        </div>
        <div class="container" style="text-align:center">
            <a class="btn btn-link" style="text-align:center;margin-top:20px; align-items:center" id="Product_Card_See_More" onclick="Expand_Product_Card()">See More...</a>
        </div>
    </div>
</section>
<br><br>
<script type="text/javascript">
    $("#drop").change(function () {
        var end = this.value;
        console.log(end);
        var name_name = $(this).prop("name");
        console.log(name_name);
        window.location.replace("./" + name_name + "?Variant=" + end);
    });

</script>
<script type="text/javascript">
    debugger;
    function Expand_Product_Card() {
        var cards_dispaly = document.getElementsByClassName('product_card_overflow');
        for (var i = 0; i < total_card_to_display && cards_dispaly.length; i++) {
            cards_dispaly[i].style.display = "block";
        }
        total_card_to_display = total_card_to_display + 8;

    }

</script>
<script>
    var total_card_to_display = 4;
    document.getElementsByClassName('product_card_overflow').onload = function () { myFunction() };
    var cards_dispaly = document.getElementsByClassName('product_card_overflow');
    for (var i = 0; i < total_card_to_display && cards_dispaly.length; i++) {
        cards_dispaly[i].style.display = "block";
    }
    total_card_to_display = total_card_to_display + 8;

</script>